<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Logo | Premium GFX Studio</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    
    <!-- Firebase Legacy SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <style>
        :root { --winter-blue: #050a18; --accent-red: #ef4444; }
        body { 
            background-color: var(--winter-blue); 
            color: #f1f5f9; 
            font-family: 'Poppins', sans-serif; 
            margin: 0;
            background: radial-gradient(circle at top, #0a1329 0%, #050a18 100%);
            min-height: 100vh;
        }
        .christmas-font { font-family: 'Mountains of Christmas', cursive; }
        .glass-card { 
            background: rgba(255, 255, 255, 0.03); 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.08); 
            border-radius: 2rem; 
        }
        .gradient-text { 
            background: linear-gradient(to right, #ff4d4d, #ffffff, #ff4d4d); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-size: 200% auto; 
            animation: shine 3s linear infinite; 
        }
        @keyframes shine { to { background-position: 200% center; } }
        .snowflake { position: fixed; top: -10px; z-index: 1000; color: #fff; pointer-events: none; animation: fall linear forwards; opacity: 0.3; }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }
        
        .nav-item { opacity: 0.4; transition: 0.3s; cursor: pointer; }
        .nav-active { opacity: 1; color: var(--accent-red); transform: scale(1.1); }
        
        input, textarea { 
            background: rgba(255,255,255,0.05) !important; 
            border: 1px solid rgba(255,255,255,0.1) !important; 
            border-radius: 1rem !important; 
            color: white !important; 
            outline: none !important; 
            width: 100%;
            padding: 1rem;
        }
        .btn-primary {
            background: var(--accent-red);
            color: white;
            font-weight: 800;
            text-transform: uppercase;
            padding: 1rem;
            border-radius: 3rem;
            width: 100%;
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }
        .animate-up { animation: up 0.6s ease forwards; }
        @keyframes up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="app" class="max-w-[480px] mx-auto min-h-screen flex flex-col p-4 relative">
        <!-- Header -->
        <header class="py-10 text-center flex flex-col items-center">
            <div class="w-24 h-24 mb-4 relative group" onclick="location.hash='home'">
                <div class="absolute inset-0 bg-red-600/20 blur-3xl rounded-full"></div>
                <img src="logo1.png" class="w-full h-full object-contain relative z-10 drop-shadow-2xl" onerror="this.style.display='none'">
            </div>
            <!-- Changed title to Nexus Logo -->
            <h1 class="text-5xl christmas-font gradient-text mb-1">Nexus Logo</h1>
            <p class="text-[8px] tracking-[0.6em] text-gray-500 font-black uppercase">Nexus MM GFX Studio</p>
        </header>

        <!-- Main Content -->
        <div id="content" class="flex-grow pb-32">
            <div class="text-center py-20 opacity-50 italic">Loading Catalog...</div>
        </div>

        <!-- Navigation -->
        <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[400px] z-50">
            <div class="bg-black/90 backdrop-blur-2xl border border-white/10 rounded-[3rem] flex justify-around items-center p-4 shadow-2xl">
                <div onclick="location.hash='home'" id="nav-home" class="nav-item flex flex-col items-center">
                    <span class="text-xl">üè†</span><span class="text-[7px] font-bold mt-1 uppercase">Store</span>
                </div>
                <div onclick="location.hash='dashboard'" id="nav-dashboard" class="nav-item flex flex-col items-center">
                    <span class="text-xl">üìä</span><span class="text-[7px] font-bold mt-1 uppercase">Orders</span>
                </div>
                <div onclick="location.hash='login'" id="nav-login" class="nav-item flex flex-col items-center">
                    <span class="text-xl">üë§</span><span class="text-[7px] font-bold mt-1 uppercase">Login</span>
                </div>
            </div>
        </nav>

        <div id="toast" class="fixed bottom-28 left-1/2 -translate-x-1/2 bg-red-600 text-white px-6 py-3 rounded-full opacity-0 transition-all pointer-events-none z-[100] text-[10px] font-black uppercase tracking-widest text-center"></div>
    </div>

    <script>
        // --- 1. CONFIG ---
        const CONFIG = {
            projectId: "boostversetg",
            upiId: "lavyanshboss@fam",
            adminPassword: "madarapapa",
            telegramBot: "BoostVerseTG_Bot",
            formLink: "https://forms.gle/8cfhKqFBmtFYqWRa6"
        };

        const LOGOS = [
            { id: 1, name: 'Chrome Typography', desc: 'A high-polish, metallic silver "nexus" wordmark in a sharp, gothic-inspired font set against a dark, textured background with subtle lens flares on the tips.' },
            { id: 2, name: 'Claw Marks', desc: 'The word "NEXUS" in a cyan, jagged brush font overlaid on four large, diagonal white claw scratches with a dark, grimy background.' },
            { id: 3, name: 'Naruto Avatar', desc: 'An illustration of Naruto Uzumaki centered in front of a metallic "NEXUS MM" text against a grey, horizontally striped background.' },
            { id: 4, name: 'Suited Avatar', desc: 'A mysterious figure in a black suit with their head completely wrapped in white bandages, positioned below a textured silver "NEXUS MM" title.' },
            { id: 5, name: 'Red Glitch', desc: 'A stylized "NEXUS" text in red and white with a heavy glitch effect, featuring a person in a red hoodie and chains in the background.' },
            { id: 6, name: 'Spider-Man GFX', desc: 'A vibrant, purple-toned graphic of Spider-Man sitting down, featuring the signature "Lavyansh gfx" in cursive neon purple text.' },
            { id: 7, name: 'Forest Green', desc: 'A bright, neon green "NEXUS" wordmark in an aggressive brush style, set against a dark, misty forest background with floating green particles.' },
            { id: 8, name: 'Ghostface', desc: 'The iconic "Scream" Ghostface mask in a circular frame, with "NEXUS" written in a sharp white font across the center of the dark silhouette.' },
            { id: 9, name: 'Batman Silhouette', desc: 'A stylized Batman figure standing within a circular white glow, with "NEXUS MM" displayed in a clean, futuristic white font at the bottom.' },
            { id: 10, name: 'Targeted Anime', desc: 'An anime character with a "NEXUS" blindfold, centered inside a bright orange target reticle with chains and a chaotic monochrome background.' }
        ];

        // --- 2. FIREBASE SETUP ---
        let db;
        try {
            firebase.initializeApp({ projectId: CONFIG.projectId });
            db = firebase.firestore();
        } catch(e) { console.error("Firebase Init Failed"); }

        // --- 3. CORE LOGIC ---
        const user = () => JSON.parse(localStorage.getItem('bv_user') || 'null');

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg; t.style.opacity = '1';
            setTimeout(() => t.style.opacity = '0', 3000);
        }

        function render() {
            const hash = location.hash.slice(1) || 'home';
            const container = document.getElementById('content');
            container.innerHTML = '';
            
            // Set active nav
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('nav-active'));
            const active = document.getElementById('nav-' + hash.split('/')[0]);
            if(active) active.classList.add('nav-active');

            if(hash === 'home') renderHome();
            else if(hash.startsWith('item/')) renderDetail(hash.split('/')[1]);
            else if(hash === 'dashboard') renderDashboard();
            else if(hash === 'login') renderLogin();
            else if(hash === 'admin') renderAdmin();
        }

        function renderHome() {
            let html = `
                <div class="animate-up">
                    <div class="text-center mb-8 px-4">
                        <div class="inline-block bg-red-600 px-4 py-1 rounded-full text-[10px] font-black mb-4">‚ùÑÔ∏è WINTER SALE: ALL LOGOS ‚Çπ20</div>
                        <!-- Changed heading to Logo Catalog -->
                        <h2 class="text-3xl text-white christmas-font">Logo Catalog</h2>
                    </div>
                    <div class="flex flex-col gap-6 px-2">
            `;
            LOGOS.forEach(logo => {
                html += `
                    <div onclick="location.hash='item/${logo.id}'" class="glass-card overflow-hidden cursor-pointer hover:border-red-500 transition">
                        <div class="h-48 bg-black relative">
                            <img src="logo${logo.id}.png" class="w-full h-full object-cover opacity-60" onerror="this.src='https://via.placeholder.com/400x200?text=Logo+Preview'">
                            <div class="absolute top-4 right-4 bg-red-600 text-white text-[10px] font-black px-3 py-1 rounded-full">‚Çπ20</div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-white christmas-font uppercase">${logo.name}</h3>
                            <p class="text-[10px] text-gray-400 italic line-clamp-1 mt-1">${logo.desc}</p>
                            <p class="text-red-500 font-black text-[9px] uppercase tracking-widest mt-4">Selection Details ‚Üí</p>
                        </div>
                    </div>
                `;
            });
            html += `</div></div>`;
            document.getElementById('content').innerHTML = html;
        }

        function renderDetail(id) {
            const logo = LOGOS.find(l => l.id == id);
            const upi = `upi://pay?pa=${CONFIG.upiId}&pn=Nexus&am=20&cu=INR&tn=Logo-${logo.name}`;
            const qr = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(upi)}`;
            
            document.getElementById('content').innerHTML = `
                <div class="animate-up pb-10">
                    <div class="glass-card overflow-hidden">
                        <div class="h-64 bg-black relative flex justify-center items-center p-6">
                            <button onclick="location.hash='home'" class="absolute top-6 left-6 bg-black/60 w-10 h-10 rounded-full flex items-center justify-center font-bold">‚Üê</button>
                            <img src="logo${logo.id}.png" class="h-full object-contain drop-shadow-2xl" onerror="this.src='https://via.placeholder.com/200x200?text=Preview'">
                        </div>
                        <div class="p-8">
                            <h2 class="text-3xl font-bold text-white christmas-font mb-4">${logo.name} <span class="text-red-500 text-sm ml-2">‚Çπ20</span></h2>
                            <p class="text-xs text-gray-400 italic leading-relaxed mb-8 border-l-2 border-red-500 pl-4">${logo.desc}</p>
                            
                            <div class="bg-white p-6 rounded-[2rem] flex flex-col items-center mb-8">
                                <img src="${qr}" class="w-40 h-40">
                                <p class="text-[10px] text-black font-black uppercase mt-3">Scan to pay ‚Çπ20</p>
                            </div>

                            <form id="orderForm" class="space-y-4">
                                ${!user() ? '<input type="text" id="oc-name" placeholder="Telegram @Username" required>' : ''}
                                <textarea id="oc-req" placeholder="Project Details (Text, Colors...)" required rows="3"></textarea>
                                <input type="text" id="oc-utr" placeholder="Transaction UTR Number" required>
                                <button type="submit" class="btn-primary mt-4">Confirm Order üéÅ</button>
                            </form>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('orderForm').onsubmit = async (e) => {
                e.preventDefault();
                const oid = "BV" + Math.floor(100000 + Math.random()*900000);
                const data = {
                    id: oid, service: logo.name,
                    client: user() ? user().name : document.getElementById('oc-name').value,
                    req: document.getElementById('oc-req').value,
                    utr: document.getElementById('oc-utr').value,
                    status: 'Pending', date: new Date().toLocaleString()
                };
                if(db) {
                    await db.collection('artifacts').doc('boostversetg').collection('public').doc('data').collection('orders').doc(oid).set(data);
                    window.open(CONFIG.formLink, "_blank");
                    showToast("Order Success!");
                    location.hash = 'dashboard';
                } else { alert("DB Error - Contact Admin"); }
            };
        }

        async function renderDashboard() {
            if(!user()) return location.hash = 'login';
            const container = document.getElementById('content');
            container.innerHTML = `<p class="text-center p-20 italic opacity-40">Syncing Cloud Log...</p>`;
            
            if(db) {
                const snap = await db.collection('artifacts').doc('boostversetg').collection('public').doc('data').collection('orders').get();
                const myOrders = snap.docs.map(d => d.data()).filter(o => o.client?.toLowerCase() === user().name.toLowerCase());
                
                container.innerHTML = `
                    <div class="animate-up">
                        <div class="glass-card p-10 text-center mb-6 border-b-4 border-red-500">
                            <h2 class="text-3xl font-bold text-white christmas-font">${user().name}</h2>
                            <p class="text-[9px] text-gray-500 uppercase font-black mt-1">Official Dashboard</p>
                        </div>
                        <div class="space-y-4">
                            ${myOrders.length === 0 ? '<p class="text-center opacity-30 py-10 uppercase text-[9px]">No records found.</p>' : myOrders.map(o => `
                                <div class="glass-card p-5 flex justify-between items-center border-l-4 ${o.status==='Completed'?'border-green-500':'border-yellow-500'}">
                                    <div><p class="text-white text-xs font-black uppercase">${o.service}</p><p class="text-[9px] text-gray-500 font-mono">${o.id}</p></div>
                                    <span class="text-[10px] font-black uppercase ${o.status==='Completed'?'text-green-400':'text-yellow-400'}">${o.status}</span>
                                </div>
                            `).join('')}
                        </div>
                        <button onclick="localStorage.clear(); location.reload()" class="w-full py-10 text-red-500 text-[9px] font-black uppercase tracking-widest underline opacity-30">Logout</button>
                    </div>
                `;
            }
        }

        function renderLogin() {
            document.getElementById('content').innerHTML = `
                <div class="glass-card p-10 text-center animate-up mt-10">
                    <div id="step1">
                        <h2 class="text-3xl font-bold text-indigo-400 christmas-font mb-2">Auth Portal</h2>
                        <p class="text-[10px] text-gray-500 uppercase font-black mb-10">Secure Access</p>
                        <input type="text" id="l-user" placeholder="@username" class="text-center mb-6">
                        <button onclick="reqOTP()" class="btn-primary" style="background:#4f46e5">Request Code</button>
                    </div>
                    <div id="step2" class="hidden">
                        <h2 class="text-2xl text-white christmas-font mb-6">Verify</h2>
                        <input type="number" id="l-otp" placeholder="000000" class="text-center text-4xl tracking-[0.4em] mb-8">
                        <button onclick="valOTP()" class="btn-primary">Enter Studio</button>
                    </div>
                </div>
            `;
        }

        window.reqOTP = () => {
            if(!document.getElementById('l-user').value.includes('@')) return showToast("Use @ prefix");
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            showToast("Check Bot!");
        };

        window.valOTP = async () => {
            const u = document.getElementById('l-user').value.trim().toLowerCase().replace('@','');
            const code = document.getElementById('l-otp').value;
            if(!db) return;
            const doc = await db.collection('artifacts').doc('boostversetg').collection('public').doc('data').collection('otps').doc(u).get();
            if(doc.exists && doc.data().otp == code) {
                localStorage.setItem('bv_user', JSON.stringify({ name: "@"+u }));
                location.hash = 'dashboard';
            } else { showToast("Invalid Code"); }
        };

        async function renderAdmin() {
            const p = prompt("Key:");
            if(p !== CONFIG.adminPassword) return location.hash = 'home';
            const snap = await db.collection('artifacts').doc('boostversetg').collection('public').doc('data').collection('orders').get();
            document.getElementById('content').innerHTML = `
                <div class="space-y-4 animate-up">
                    <h2 class="text-2xl text-white christmas-font mb-6">Queue</h2>
                    ${snap.docs.map(d => {
                        const o = d.data();
                        return `<div class="glass-card p-4 text-[10px]">
                            <p class="font-black text-white uppercase">${o.id} - ${o.service}</p>
                            <p class="text-gray-400">Client: ${o.client}</p>
                            <p class="text-indigo-300 italic mb-4">Req: ${o.req}</p>
                            <button onclick="finishOrder('${o.id}')" class="bg-green-600 p-2 rounded w-full font-black">COMPLETE</button>
                        </div>`;
                    }).join('')}
                </div>
            `;
        }

        window.finishOrder = async (id) => {
            await db.collection('artifacts').doc('boostversetg').collection('public').doc('data').collection('orders').doc(id).update({status:'Completed'});
            renderAdmin();
        };

        // Effects
        function createSnow() {
            const s = document.createElement('div'); s.className = 'snowflake'; s.innerHTML = '‚ùÑ';
            s.style.left = Math.random() * 100 + 'vw'; s.style.animationDuration = Math.random() * 3 + 4 + 's';
            document.body.appendChild(s); setTimeout(() => s.remove(), 7000);
        }
        setInterval(createSnow, 500);

        window.onhashchange = render;
        window.onload = () => {
            if(firebase.auth) firebase.auth().signInAnonymously().catch(()=>{});
            render();
        };
    </script>
</body>
</html>

